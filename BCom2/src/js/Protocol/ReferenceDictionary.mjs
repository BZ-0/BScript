// @ts-nocheck
"use strict"

//
import { uuidv4, _LOG_, $symbols } from "../Library/Symbols.mjs"
import { wrapFunc, defaultReflection } from "../Reflection/DirectReflection.mjs"
import { $unwrap } from "../Reflection/PromiseReflection.mjs"
import STD from "../Library/Standard.mjs"

//
export class WeakRefCleaner {
    /** @type {String} */
    #name = ""

    /** @type {Map<String, Object|Function>} */
    #map = null

    //
    constructor(map, name) {
        this.#map = map
        this.#name = name
    }

    //
    get($temp, $name, _) {
        if ($name == "deref" && $temp[$name]) {
            return () => {
                const _ref_ = $temp[$name]()
                if (_ref_ == null) {
                    //console.log(this.#name + ": died...");
                    this.#map.delete(this.#name)
                }
                return _ref_
            }
        }
    }

    // won't back any keys
    ownKeys() {
        return []
    }
    has() {
        return false
    }
}

//
export const wrapWeakRef = (map, registry, temp, name, hold) => {
    registry.register(hold ?? temp, name)
    return new Proxy(new WeakRef(temp), new WeakRefCleaner(map, name))
}

//
export class IdentifiedSet {
    /** @type {Map<Object|Function, String>} */
    #wmap = new WeakMap()

    /** @type {Map<String, Object|Function>} */
    #kmap = new Map()

    /** @type {FinalizationRegistry} */
    #rmap = new FinalizationRegistry((_) => {})

    //
    constructor() {
        this.#wmap = new WeakMap()
        this.#kmap = new Map()
        this.#rmap = new FinalizationRegistry(($name) => {
            //console.log($name + ": died...");
            this.#kmap.delete($name)
        })
    }

    //
    add(obj, hold = null) {
        hold ??= obj
        if (this.#wmap.has(hold)) {
            return this.#wmap.get(hold)
        } else {
            const uuid = uuidv4()
            this.#rmap.register(hold, uuid)
            this.#wmap.set(hold, uuid)
            this.#kmap.set(uuid, wrapWeakRef(this.#kmap, this.#rmap, obj, uuid, hold))
            setTimeout(
                (hold) => {
                    hold
                },
                1000,
                hold
            )
            return uuid
        }
    }

    //
    get(uuid) {
        return this.#kmap.get(uuid)?.deref?.() ?? this.#kmap.get(uuid)
    }

    //
    delete(uuid) {
        this.#wmap.delete(this.get(uuid))
        this.#kmap.delete(uuid)
    }
}

//
export const map = new IdentifiedSet()
export default class ReferenceDictionary {
    /** @type {Map<String, Object|Function>} */
    #persistent = null

    /** @type {IndirectReflection} */
    #indirectReflect = null

    /** @type {RequestReflection} */
    #requestReflect = null

    /** @type {Set<String>} */
    #module = new Set()

    //
    set _requestReflect(requestReflect) {
        this.#requestReflect = requestReflect
    }

    //
    set _indirectReflect(indirectReflect) {
        this.#indirectReflect = indirectReflect
    }

    //
    set _inbox(coder) {}
    set _outbox(coder) {}

    //
    constructor() {
        this.#persistent = new Map()
        this.#module = new Set()

        //
        this.#persistent.set(
            "$keys",
            STD.getter(() => {
                return Array.from(this.#module.keys())
            })
        )

        //
        this.$register(STD.proxy(STD, true), "std")
    }

    //
    #newUUID() {
        return crypto?.randomUUID?.() ?? uuidv4()
    }

    /**
     *
     * @param {Object|Function} $raw
     * @param {String} $origin
     * @param {Boolean} $pflag
     * @returns {Proxy<IndirectReflection>}
     */
    $temp($raw, $code, $hold) {
        $raw = $unwrap($raw)

        // now, can...
        /*if ($raw instanceof Promise || $raw?.["&typeof"] == "promise") {
        throw Error("Promise or lazy can't be to temp");
    }*/

        //
        const $proxy = map.add($raw, $hold ?? $raw)
        return new Proxy(
            wrapFunc({
                ["&data"]: $raw,
                ["&code"]: {
                    ["&root"]: $code?.["&root"] || $code?.["&origin"] || $proxy,
                    ["&typeof"]: $code?.["&typeof"] ?? "proxy",
                    ["&origin"]: $code?.["&origin"] ?? $proxy,
                    ["&proxy"]: $proxy,
                    ["&persistent"]: $code?.["&persistent"],
                    ["&isCode"]: true
                }
            }),
            this.#indirectReflect
        )
    }

    /**
     *
     * @param {String} $did
     * @param {Boolean} $persistent
     * @returns {*}
     */
    $access($did = "", $persistent = false) {
        return new Proxy(
            wrapFunc({
                ["&data"]: null,
                ["&code"]: {
                    ["&isCode"]: true,
                    ["&typeof"]: "proxy",
                    ["&proxy"]: $did?.["&proxy"] || $did,
                    ["&origin"]: $did?.["&origin"] || $did,
                    ["&persistent"]: $persistent
                }
            }),
            this.#requestReflect
        )
    }

    /**
     *
     * @param {String} $id
     * @param {Boolean} $persistent
     * @returns {*}
     */
    $get($id, $persistent = false) {
        if ($id == null) return null
        if (["object", "function"].indexOf(typeof $id) >= 0) {
            return $id
        }

        //
        const $obj = $persistent ? this.#persistent.get($id) ?? map.get($id) : map.get($id)
        if ($obj == null) return null
        if ($obj?.["&typeof"] == "getter") {
            return $obj?.[$symbols["&data"]] ?? $obj?.["&data"]
        }
        return $obj
    }

    /**
     *
     * @param {*} $data
     * @param {String} $proxy
     * @returns
     */
    $register($data, $proxy = null) {
        $data = $unwrap($data)
        if ($data instanceof Promise || $data?.["&typeof"] == "promise") {
            throw Error("Promise or lazy can't be to registered")
        }

        //
        $proxy ||= this.#newUUID()
        const $wrap =
            $data?.["&isWrap"] || ["function", "object"].indexOf(typeof $data) < 0
                ? $data
                : new Proxy(
                      wrapFunc({
                          ["&data"]: $data,
                          ["&code"]: {
                              ["&typeof"]: "proxy",
                              ["&root"]: $data?.["&root"] || $data?.["&proxy"] || $data?.["&origin"] || $proxy,
                              ["&origin"]: $proxy || $data?.["&proxy"] || $data?.["&origin"],
                              ["&proxy"]: $proxy,
                              ["&isCode"]: true,
                              ["&persistent"]: true
                          }
                      }),
                      defaultReflection
                  )

        //
        this.#persistent.set($proxy, $wrap)
        if ($proxy != "$keys") {
            this.#module.add($proxy)
        }
        return $wrap
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1dWlkdjQiLCJfTE9HXyIsIiRzeW1ib2xzIiwid3JhcEZ1bmMiLCJkZWZhdWx0UmVmbGVjdGlvbiIsIiR1bndyYXAiLCJTVEQiLCJXZWFrUmVmQ2xlYW5lciIsIm5hbWUiLCJtYXAiLCJjb25zdHJ1Y3RvciIsImdldCIsIiR0ZW1wIiwiJG5hbWUiLCJfIiwiX3JlZl8iLCJkZWxldGUiLCJvd25LZXlzIiwiaGFzIiwid3JhcFdlYWtSZWYiLCJyZWdpc3RyeSIsInRlbXAiLCJob2xkIiwicmVnaXN0ZXIiLCJQcm94eSIsIldlYWtSZWYiLCJJZGVudGlmaWVkU2V0Iiwid21hcCIsIldlYWtNYXAiLCJrbWFwIiwiTWFwIiwicm1hcCIsIkZpbmFsaXphdGlvblJlZ2lzdHJ5IiwiYWRkIiwib2JqIiwidXVpZCIsInNldCIsInNldFRpbWVvdXQiLCJkZXJlZiIsIlJlZmVyZW5jZURpY3Rpb25hcnkiLCJwZXJzaXN0ZW50IiwiaW5kaXJlY3RSZWZsZWN0IiwicmVxdWVzdFJlZmxlY3QiLCJtb2R1bGUiLCJTZXQiLCJfcmVxdWVzdFJlZmxlY3QiLCJfaW5kaXJlY3RSZWZsZWN0IiwiX2luYm94IiwiY29kZXIiLCJfb3V0Ym94IiwiZ2V0dGVyIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsIiRyZWdpc3RlciIsInByb3h5IiwibmV3VVVJRCIsIiNuZXdVVUlEIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsIiRyYXciLCIkY29kZSIsIiRob2xkIiwiJHByb3h5IiwiJGFjY2VzcyIsIiRkaWQiLCIkcGVyc2lzdGVudCIsIiRnZXQiLCIkaWQiLCJpbmRleE9mIiwiJG9iaiIsIiRkYXRhIiwiUHJvbWlzZSIsIkVycm9yIiwiJHdyYXAiXSwic291cmNlcyI6WyJDOlxcUHJvamVjdHNcXEJaMFxcQkNvbTJcXHNyY1xcY2l2ZXRcXFByb3RvY29sXFxSZWZlcmVuY2VEaWN0aW9uYXJ5LmNpdmV0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1ub2NoZWNrXG5cInVzZSBzdHJpY3RcIjtcblxuLy9cbmltcG9ydCB7IHV1aWR2NCwgX0xPR18sICRzeW1ib2xzIH0gZnJvbSBcIi4uL0xpYnJhcnkvU3ltYm9sc1wiO1xuaW1wb3J0IHsgd3JhcEZ1bmMsIGRlZmF1bHRSZWZsZWN0aW9uIH0gZnJvbSBcIi4uL1JlZmxlY3Rpb24vRGlyZWN0UmVmbGVjdGlvblwiO1xuaW1wb3J0IHsgJHVud3JhcCB9IGZyb20gXCIuLi9SZWZsZWN0aW9uL1Byb21pc2VSZWZsZWN0aW9uXCI7XG5pbXBvcnQgU1REIGZyb20gXCIuLi9MaWJyYXJ5L1N0YW5kYXJkXCI7XG5cbi8vXG5leHBvcnQgY2xhc3MgV2Vha1JlZkNsZWFuZXIge1xuICAgIC8qKiBAdHlwZSB7U3RyaW5nfSAqL1xuICAgICNuYW1lID0gXCJcIjtcblxuICAgIC8qKiBAdHlwZSB7TWFwPFN0cmluZywgT2JqZWN0fEZ1bmN0aW9uPn0gKi9cbiAgICAjbWFwID0gbnVsbDtcblxuICAgIC8vXG4gICAgY29uc3RydWN0b3IobWFwLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuI21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy4jbmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgLy9cbiAgICBnZXQoJHRlbXAsICRuYW1lLCBfKSB7XG4gICAgICAgIGlmICgkbmFtZSA9PSBcImRlcmVmXCIgJiYgJHRlbXBbJG5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9yZWZfID0gJHRlbXBbJG5hbWVdKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFfcmVmXz8pIHsgXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy4jbmFtZSArIFwiOiBkaWVkLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNtYXAuZGVsZXRlKHRoaXMuI25hbWUpOyBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB3b24ndCBiYWNrIGFueSBrZXlzXG4gICAgb3duS2V5cygpIHsgcmV0dXJuIFtdOyB9O1xuICAgIGhhcygpIHsgcmV0dXJuIGZhbHNlOyB9O1xufVxuXG4vL1xuZXhwb3J0IGNvbnN0IHdyYXBXZWFrUmVmID0gKG1hcCwgcmVnaXN0cnksIHRlbXAsIG5hbWUsIGhvbGQpID0+e1xuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyKGhvbGQgPz8gdGVtcCwgbmFtZSk7XG4gICAgcmV0dXJuIG5ldyBQcm94eShuZXcgV2Vha1JlZih0ZW1wKSwgbmV3IFdlYWtSZWZDbGVhbmVyKG1hcCwgbmFtZSkpO1xufTtcblxuLy9cbmV4cG9ydCBjbGFzcyBJZGVudGlmaWVkU2V0IHtcbiAgICAvKiogQHR5cGUge01hcDxPYmplY3R8RnVuY3Rpb24sIFN0cmluZz59ICovXG4gICAgI3dtYXAgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgLyoqIEB0eXBlIHtNYXA8U3RyaW5nLCBPYmplY3R8RnVuY3Rpb24+fSAqL1xuICAgICNrbWFwID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqIEB0eXBlIHtGaW5hbGl6YXRpb25SZWdpc3RyeX0gKi9cbiAgICAjcm1hcCA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoXykgPT4ge30pO1xuXG4gICAgLy9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4jd21hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuI2ttYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuI3JtYXAgPSBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoKCRuYW1lKSA9PiB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRuYW1lICsgXCI6IGRpZWQuLi5cIik7XG4gICAgICAgICAgICB0aGlzLiNrbWFwLmRlbGV0ZSgkbmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vXG4gICAgYWRkKG9iaiwgaG9sZCA9IG51bGwpIHtcbiAgICAgICAgaG9sZCA/Pz0gb2JqO1xuICAgICAgICBpZiAodGhpcy4jd21hcC5oYXMoaG9sZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiN3bWFwLmdldChob2xkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHV1aWQgPSB1dWlkdjQoKTtcbiAgICAgICAgICAgIHRoaXMuI3JtYXAucmVnaXN0ZXIoaG9sZCwgdXVpZCk7XG4gICAgICAgICAgICB0aGlzLiN3bWFwLnNldChob2xkLCB1dWlkKTtcbiAgICAgICAgICAgIHRoaXMuI2ttYXAuc2V0KHV1aWQsIHdyYXBXZWFrUmVmKHRoaXMuI2ttYXAsIHRoaXMuI3JtYXAsIG9iaiwgdXVpZCwgaG9sZCkpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoaG9sZCkgPT4geyBob2xkOyB9LCAxMDAwLCBob2xkKTtcbiAgICAgICAgICAgIHJldHVybiB1dWlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICBnZXQodXVpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy4ja21hcC5nZXQodXVpZCk/LmRlcmVmPy4oKSA/PyB0aGlzLiNrbWFwLmdldCh1dWlkKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIGRlbGV0ZSh1dWlkKSB7XG4gICAgICAgIHRoaXMuI3dtYXAuZGVsZXRlKHRoaXMuZ2V0KHV1aWQpKTtcbiAgICAgICAgdGhpcy4ja21hcC5kZWxldGUodXVpZCk7XG4gICAgfVxufVxuXG4vL1xuZXhwb3J0IGNvbnN0IG1hcCA9IG5ldyBJZGVudGlmaWVkU2V0KCk7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWZlcmVuY2VEaWN0aW9uYXJ5IHtcbiAgICAvKiogQHR5cGUge01hcDxTdHJpbmcsIE9iamVjdHxGdW5jdGlvbj59ICovXG4gICAgI3BlcnNpc3RlbnQgPSBudWxsO1xuXG4gICAgLyoqIEB0eXBlIHtJbmRpcmVjdFJlZmxlY3Rpb259ICovXG4gICAgI2luZGlyZWN0UmVmbGVjdCA9IG51bGw7XG5cbiAgICAvKiogQHR5cGUge1JlcXVlc3RSZWZsZWN0aW9ufSAqL1xuICAgICNyZXF1ZXN0UmVmbGVjdCA9IG51bGw7XG5cbiAgICAvKiogQHR5cGUge1NldDxTdHJpbmc+fSAqL1xuICAgICNtb2R1bGUgPSBuZXcgU2V0KCk7XG5cbiAgICAvL1xuICAgIHNldCBfcmVxdWVzdFJlZmxlY3QocmVxdWVzdFJlZmxlY3QpIHtcbiAgICAgICAgdGhpcy4jcmVxdWVzdFJlZmxlY3QgPSByZXF1ZXN0UmVmbGVjdDtcbiAgICB9XG5cbiAgICAvL1xuICAgIHNldCBfaW5kaXJlY3RSZWZsZWN0KGluZGlyZWN0UmVmbGVjdCkge1xuICAgICAgICB0aGlzLiNpbmRpcmVjdFJlZmxlY3QgPSBpbmRpcmVjdFJlZmxlY3Q7XG4gICAgfVxuXG4gICAgLy9cbiAgICBzZXQgX2luYm94KGNvZGVyKSB7fVxuICAgIHNldCBfb3V0Ym94KGNvZGVyKSB7fVxuXG4gICAgLy9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4jcGVyc2lzdGVudCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy4jbW9kdWxlID0gbmV3IFNldCgpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuI3BlcnNpc3RlbnQuc2V0KFwiJGtleXNcIiwgU1RELmdldHRlcigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLiNtb2R1bGUua2V5cygpKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuJHJlZ2lzdGVyKFNURC5wcm94eShTVEQsIHRydWUpLCBcInN0ZFwiKTtcbiAgICB9XG5cbiAgICAvL1xuICAgICNuZXdVVUlEKCkge1xuICAgICAgICByZXR1cm4gKGNyeXB0bz8ucmFuZG9tVVVJRD8uKCkgPz8gdXVpZHY0KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSAkcmF3IFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAkb3JpZ2luIFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gJHBmbGFnIFxuICAgICAqIEByZXR1cm5zIHtQcm94eTxJbmRpcmVjdFJlZmxlY3Rpb24+fVxuICAgICAqL1xuICAgICR0ZW1wKCRyYXcsICRjb2RlLCAkaG9sZCkge1xuICAgICAgICAkcmF3ID0gJHVud3JhcCgkcmF3KTtcblxuICAgICAgICAvLyBub3csIGNhbi4uLlxuICAgICAgICAvKmlmICgkcmF3IGluc3RhbmNlb2YgUHJvbWlzZSB8fCAkcmF3Py5bXCImdHlwZW9mXCJdID09IFwicHJvbWlzZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlByb21pc2Ugb3IgbGF6eSBjYW4ndCBiZSB0byB0ZW1wXCIpO1xuICAgICAgICB9Ki9cblxuICAgICAgICAvL1xuICAgICAgICBjb25zdCAkcHJveHkgPSBtYXAuYWRkKCRyYXcsICRob2xkID8/ICRyYXcpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHdyYXBGdW5jKHtcbiAgICAgICAgICAgIFtcIiZkYXRhXCJdOiAkcmF3LFxuICAgICAgICAgICAgW1wiJmNvZGVcIl06IHtcbiAgICAgICAgICAgICAgICBbXCImcm9vdFwiXTogJGNvZGU/LltcIiZyb290XCJdIHx8ICRjb2RlPy5bXCImb3JpZ2luXCJdIHx8ICRwcm94eSxcbiAgICAgICAgICAgICAgICBbXCImdHlwZW9mXCJdOiAkY29kZT8uW1wiJnR5cGVvZlwiXSA/PyBcInByb3h5XCIsIFxuICAgICAgICAgICAgICAgIFtcIiZvcmlnaW5cIl06ICRjb2RlPy5bXCImb3JpZ2luXCJdID8/ICRwcm94eSwgXG4gICAgICAgICAgICAgICAgW1wiJnByb3h5XCJdOiAkcHJveHksXG4gICAgICAgICAgICAgICAgW1wiJnBlcnNpc3RlbnRcIl06ICRjb2RlPy5bXCImcGVyc2lzdGVudFwiXSxcbiAgICAgICAgICAgICAgICBbXCImaXNDb2RlXCJdOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLiNpbmRpcmVjdFJlZmxlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAkZGlkIFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gJHBlcnNpc3RlbnQgXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgJGFjY2VzcygkZGlkID0gXCJcIiwgJHBlcnNpc3RlbnQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHdyYXBGdW5jKHtcbiAgICAgICAgICAgIFtcIiZkYXRhXCJdOiBudWxsLFxuICAgICAgICAgICAgW1wiJmNvZGVcIl06IHtcbiAgICAgICAgICAgICAgICBbXCImaXNDb2RlXCJdOiB0cnVlLFxuICAgICAgICAgICAgICAgIFtcIiZ0eXBlb2ZcIl06IFwicHJveHlcIiwgXG4gICAgICAgICAgICAgICAgW1wiJnByb3h5XCIgXTogJGRpZD8uW1wiJnByb3h5XCIgXSB8fCAkZGlkLCBcbiAgICAgICAgICAgICAgICBbXCImb3JpZ2luXCJdOiAkZGlkPy5bXCImb3JpZ2luXCJdIHx8ICRkaWQsXG4gICAgICAgICAgICAgICAgW1wiJnBlcnNpc3RlbnRcIl06ICRwZXJzaXN0ZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLiNyZXF1ZXN0UmVmbGVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICRpZCBcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICRwZXJzaXN0ZW50IFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgICRnZXQoJGlkLCAkcGVyc2lzdGVudCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghJGlkPykgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChbXCJvYmplY3RcIiwgXCJmdW5jdGlvblwiXS5pbmRleE9mKHR5cGVvZiAkaWQpID49IDApIFxuICAgICAgICAgICAgcmV0dXJuICRpZDtcblxuICAgICAgICAvL1xuICAgICAgICBjb25zdCAkb2JqID0gJHBlcnNpc3RlbnQgPyAodGhpcy4jcGVyc2lzdGVudC5nZXQoJGlkKSA/PyBtYXAuZ2V0KCRpZCkpIDogbWFwLmdldCgkaWQpO1xuICAgICAgICBpZiAoISRvYmo/KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCRvYmo/LltcIiZ0eXBlb2ZcIl0gPT0gXCJnZXR0ZXJcIikgeyBcbiAgICAgICAgICAgIHJldHVybiAkb2JqPy5bJHN5bWJvbHNbXCImZGF0YVwiXV0gPz8gJG9iaj8uW1wiJmRhdGFcIl07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAkb2JqO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Kn0gJGRhdGEgXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICRwcm94eSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICAkcmVnaXN0ZXIoJGRhdGEsICRwcm94eSA9IG51bGwpIHtcbiAgICAgICAgJGRhdGEgPSAkdW53cmFwKCRkYXRhKTtcbiAgICAgICAgaWYgKCRkYXRhIGluc3RhbmNlb2YgUHJvbWlzZSB8fCAkZGF0YT8uW1wiJnR5cGVvZlwiXSA9PSBcInByb21pc2VcIikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJQcm9taXNlIG9yIGxhenkgY2FuJ3QgYmUgdG8gcmVnaXN0ZXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgICRwcm94eSB8fD0gdGhpcy4jbmV3VVVJRCgpO1xuICAgICAgICBjb25zdCAkd3JhcCA9ICgkZGF0YT8uW1wiJmlzV3JhcFwiXSB8fCAoW1wiZnVuY3Rpb25cIiwgXCJvYmplY3RcIl0uaW5kZXhPZih0eXBlb2YgJGRhdGEpIDwgMCkpID8gJGRhdGEgOiAobmV3IFByb3h5KHdyYXBGdW5jKHtcbiAgICAgICAgICAgIFtcIiZkYXRhXCJdOiAkZGF0YSxcbiAgICAgICAgICAgIFtcIiZjb2RlXCJdOiB7XG4gICAgICAgICAgICAgICAgW1wiJnR5cGVvZlwiXTogXCJwcm94eVwiLCBcbiAgICAgICAgICAgICAgICBbXCImcm9vdFwiXTogKCRkYXRhPy5bXCImcm9vdFwiXSB8fCAkZGF0YT8uW1wiJnByb3h5XCJdIHx8ICRkYXRhPy5bXCImb3JpZ2luXCJdIHx8ICRwcm94eSksXG4gICAgICAgICAgICAgICAgW1wiJm9yaWdpblwiXTogKCRwcm94eSB8fCAkZGF0YT8uW1wiJnByb3h5XCJdIHx8ICRkYXRhPy5bXCImb3JpZ2luXCJdKSwgXG4gICAgICAgICAgICAgICAgW1wiJnByb3h5XCJdOiAkcHJveHksIFxuICAgICAgICAgICAgICAgIFtcIiZpc0NvZGVcIl06IHRydWUsXG4gICAgICAgICAgICAgICAgW1wiJnBlcnNpc3RlbnRcIl06IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIGRlZmF1bHRSZWZsZWN0aW9uKSk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy4jcGVyc2lzdGVudC5zZXQoJHByb3h5LCAkd3JhcCk7XG4gICAgICAgIGlmICgkcHJveHkgIT0gXCIka2V5c1wiKSB7IFxuICAgICAgICAgICAgdGhpcy4jbW9kdWxlLmFkZCgkcHJveHkpOyBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICR3cmFwO1xuICAgIH1cbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsWTs7QUFFQTtBQUNBLFNBQVNBLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRO0FBQ2hDLFNBQVNDLFFBQVEsRUFBRUMsaUJBQWlCO0FBQ3BDLFNBQVNDLE9BQU87QUFDaEIsT0FBT0MsR0FBRzs7QUFFVjtBQUNBLE9BQU8sTUFBTUMsY0FBYyxDQUFDO0VBQ3hCO0VBQ0EsQ0FBQUMsSUFBSyxHQUFHLEVBQUU7O0VBRVY7RUFDQSxDQUFBQyxHQUFJLEdBQUcsSUFBSTs7RUFFWDtFQUNBQyxXQUFXQSxDQUFDRCxHQUFHLEVBQUVELElBQUksRUFBRTtJQUNuQixJQUFJLENBQUMsQ0FBQUMsR0FBSSxHQUFHQSxHQUFHO0lBQ2YsSUFBSSxDQUFDLENBQUFELElBQUssR0FBR0EsSUFB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
