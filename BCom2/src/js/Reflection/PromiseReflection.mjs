// @ts-nocheck
"use strict"

//
import { wrapFunc, BaseReflection } from "./DirectReflection.mjs"
import { $symbols, $names, $tryIn, $contextify, $instanceAnyOf, FakeReflect, _LOG_ } from "../Library/Symbols.mjs"
import SyncPromise from "../Library/SyncPromise.mjs"

// from remote side...
export default class PromiseReflection extends BaseReflection {
    /** @type {Reflect} */
    $reflect = typeof Reflect != "undefined" ? Reflect : FakeReflect

    /** @type {ReferenceDictionary} */
    //#dictionary = null;

    //
    constructor(reflect = typeof Reflect != "undefined" ? Reflect : FakeReflect) {
        super(reflect)
    }

    //
    #indirection($hack, cb = ($) => $, { initiate = false, directly = true, forceAsync = false }) {
        const $promised =
            $tryIn($hack["&data"], forceAsync ? ["then"] : ["&sync", "then"])?.call?.($hack["&data"], ($obj) => {
                if (!$obj || ["object", "function"].indexOf(typeof $obj) < 0) {
                    return $obj
                }
                return initiate ? $unwrap($obj) : $obj
            }) ?? $hack["&data"]

        //
        return directly || $promised?.["&typeof"] == "promise" || !$instanceAnyOf($promised, [Promise, SyncPromise])
            ? $promised
            : new Proxy(
                  wrapFunc({
                      ["&data"]: $promised?.then?.(cb)?.catch?.(console.error?.bind?.(console)),
                      ["&code"]: $promised?.["&code"] || $hack?.["&code"]
                  }),
                  this
              )
    }

    //
    #sync($hack) {
        return this.#indirection($hack, ($) => $, { initiate: true, directly: false, forceAsync: false })
    }

    //
    get($hack, ...$args) {
        if ($args[0] == "&isCode") return false
        if ($args[0] == "&isWrap") return true
        if (["&data", "&code", "&buffer"].indexOf($args[0]) >= 0)
            return (
                $hack?.[$args[0]] ??
                $hack?.["&data"]?.[$args[0]] ??
                $hack?.["&data"]?.then?.(($) => {
                    return $[$args[0]]
                })
            )
        if ([$symbols["&data"]].indexOf($args[0]) >= 0) return this.$data($hack)

        // broken op, doesn't chain support...
        if (["*", "&synced"].indexOf($args[0]) >= 0) {
            const $x = this.#sync($hack),
                $b = $x["&buffer"]
            return $b && !$instanceAnyOf($b, [Promise, SyncPromise]) ? $x?.[$args[0]] ?? $x : $x
        }

        //
        if (["&sync"].indexOf($args[0]) >= 0) {
            const $w = this.#indirection($hack, ($w) => $w, {})
            return $contextify($w, $w?.["&sync"] ?? $w?.["then"]) ?? (($) => $($w))
        }

        //
        if ($args[0]?.at?.(0) == "&") return $hack?.["&code"]?.[$args[0]]

        //
        if (Object.values($symbols).indexOf($args[0]) >= 0) {
            $args[0] = $names[$args[0]]
            return this.#indirection(
                $hack,
                ($w) => {
                    return $w?.["&code"]?.[$args[0]]
                },
                { directly: false }
            )
        }

        //
        if (["bind", "call", "apply"].indexOf($args[0]) >= 0) {
            const $reflect = this.$reflect
            const $indirection = this.#indirection.bind(this)
            const $fn = (...$a) => {
                return $indirection(
                    $hack,
                    async ($obj) => {
                        return await $reflect.apply($obj, $args[1], await Promise.all(await $a))
                    },
                    { directly: false }
                )
            }
            return $fn[$args[0]].bind($fn)
        }

        //
        if (["then", "catch", "finally"].indexOf($args[0]) >= 0) {
            const $w = this.#indirection($hack, ($w) => $w, { forceAsync: true })
            return $contextify($w, $w?.[$args[0]])
        }

        //
        return this.#indirection(
            $hack,
            async ($obj) => {
                if (!$obj) return null
                return $contextify($obj, await this.$reflect.get($obj, ...(await Promise.all(await $args))))
            },
            { directly: false }
        )
    }

    //
    ownKeys($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                return await this.$reflect.ownKeys($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }

    //
    has($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                if (!$obj) return null
                return await this.$reflect.has($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }

    //
    set($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                return await this.$reflect.set($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }

    // currently, chaining without 'await' not available...
    construct($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                return await this.$reflect.construct($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }

    // currently, chaining without 'await' not available...
    apply($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                if (!$obj) return null
                return await this.$reflect.apply($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }

    //
    deleteProperty($hack, ...$args) {
        return this.#indirection(
            $hack,
            async ($obj) => {
                return await this.$reflect.deleteProperty($obj, ...(await Promise.all(await $args)))
            },
            { directly: false }
        )
    }
}

//
export class LazyReflection extends BaseReflection {
    constructor(reflect = typeof Reflect != "undefined" ? Reflect : FakeReflect) {
        super(reflect)
    }

    //
    $data($hack) {
        const $got = !$hack?.["&initiated"] ? ($hack["&data"] = $hack?.["&data"]()) : $hack?.["&data"]
        $hack["&initiated"] = true
        return $unwrap($got)
    }
}

//
export const $unwrap = (lazy) => {
    if (lazy?.["&typeof"] == "lazy") {
        return new Proxy(
            wrapFunc({
                ["&code"]: { ["&typeof"]: "promise" },
                ["&data"]: (async () => {
                    {
                        let $lz = lazy
                        while (!!$lz && $lz?.["&typeof"] == "lazy") {
                            $lz = await $lz?.[$symbols["&data"]]
                        }
                        return $lz
                    }
                })()
            }),
            new PromiseReflection()
        )
    }
    return lazy
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3cmFwRnVuYyIsIkJhc2VSZWZsZWN0aW9uIiwiJHN5bWJvbHMiLCIkbmFtZXMiLCIkdHJ5SW4iLCIkY29udGV4dGlmeSIsIiRpbnN0YW5jZUFueU9mIiwiRmFrZVJlZmxlY3QiLCJfTE9HXyIsIlN5bmNQcm9taXNlIiwiUHJvbWlzZVJlZmxlY3Rpb24iLCIkcmVmbGVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3RvciIsInJlZmxlY3QiLCJpbmRpcmVjdGlvbiIsIiNpbmRpcmVjdGlvbiIsIiRoYWNrIiwiY2IiLCIkIiwiaW5pdGlhdGUiLCJkaXJlY3RseSIsImZvcmNlQXN5bmMiLCIkcHJvbWlzZWQiLCJjYWxsIiwiJG9iaiIsImluZGV4T2YiLCIkdW53cmFwIiwiUHJvbWlzZSIsIlByb3h5IiwidGhlbiIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiYmluZCIsInN5bmMiLCIjc3luYyIsImdldCIsIiRhcmdzIiwiJGRhdGEiLCIkeCIsIiRiIiwiJHciLCJhdCIsIk9iamVjdCIsInZhbHVlcyIsIiRpbmRpcmVjdGlvbiIsIiRmbiIsIiRhIiwiYXBwbHkiLCJhbGwiLCJvd25LZXlzIiwiaGFzIiwic2V0IiwiY29uc3RydWN0IiwiZGVsZXRlUHJvcGVydHkiLCJMYXp5UmVmbGVjdGlvbiIsIiRnb3QiLCJsYXp5IiwiJGx6Il0sInNvdXJjZXMiOlsiQzpcXFByb2plY3RzXFxCWjBcXEJDb20yXFxzcmNcXGNpdmV0XFxSZWZsZWN0aW9uXFxQcm9taXNlUmVmbGVjdGlvbi5jaXZldCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVja1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vXG5pbXBvcnQgeyB3cmFwRnVuYywgQmFzZVJlZmxlY3Rpb24gfSBmcm9tIFwiLi9EaXJlY3RSZWZsZWN0aW9uXCI7XG5pbXBvcnQgeyAkc3ltYm9scywgJG5hbWVzLCAkdHJ5SW4sICRjb250ZXh0aWZ5LCAkaW5zdGFuY2VBbnlPZiwgRmFrZVJlZmxlY3QsIF9MT0dfIH0gZnJvbSBcIi4uL0xpYnJhcnkvU3ltYm9sc1wiO1xuaW1wb3J0IFN5bmNQcm9taXNlIGZyb20gXCIuLi9MaWJyYXJ5L1N5bmNQcm9taXNlXCJcblxuLy8gZnJvbSByZW1vdGUgc2lkZS4uLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvbWlzZVJlZmxlY3Rpb24gZXh0ZW5kcyBCYXNlUmVmbGVjdGlvbiB7XG4gICAgLyoqIEB0eXBlIHtSZWZsZWN0fSAqL1xuICAgICRyZWZsZWN0ID0gKHR5cGVvZiBSZWZsZWN0ICE9IFwidW5kZWZpbmVkXCIgPyBSZWZsZWN0IDogRmFrZVJlZmxlY3QpO1xuXG4gICAgLyoqIEB0eXBlIHtSZWZlcmVuY2VEaWN0aW9uYXJ5fSAqL1xuICAgIC8vI2RpY3Rpb25hcnkgPSBudWxsO1xuXG4gICAgLy9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVmbGVjdCA9ICh0eXBlb2YgUmVmbGVjdCAhPSBcInVuZGVmaW5lZFwiID8gUmVmbGVjdCA6IEZha2VSZWZsZWN0KVxuICAgICkge1xuICAgICAgICBzdXBlcihyZWZsZWN0KTtcbiAgICB9XG5cbiAgICAvL1xuICAgICNpbmRpcmVjdGlvbigkaGFjaywgY2IgPSAoJCkgPT4gJCwge2luaXRpYXRlID0gZmFsc2UsIGRpcmVjdGx5ID0gdHJ1ZSwgZm9yY2VBc3luYyA9IGZhbHNlfSkge1xuICAgICAgICBjb25zdCAkcHJvbWlzZWQgPSAkdHJ5SW4oJGhhY2tbXCImZGF0YVwiXSwgZm9yY2VBc3luYyA/IFtcInRoZW5cIl0gOiBbXCImc3luY1wiLCBcInRoZW5cIl0pPy5jYWxsPy4oJGhhY2tbXCImZGF0YVwiXSwgKCRvYmopID0+IHtcbiAgICAgICAgICAgIGlmICghJG9iaiB8fCBbXCJvYmplY3RcIiwgXCJmdW5jdGlvblwiXS5pbmRleE9mKHR5cGVvZiAkb2JqKSA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG9iajtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhdGUgPyAkdW53cmFwKCRvYmopIDogJG9iajtcbiAgICAgICAgfSkgPz8gKCRoYWNrW1wiJmRhdGFcIl0pO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiAoZGlyZWN0bHkgfHwgKCRwcm9taXNlZD8uW1wiJnR5cGVvZlwiXSA9PSBcInByb21pc2VcIiB8fCAhJGluc3RhbmNlQW55T2YoJHByb21pc2VkLCBbUHJvbWlzZSwgU3luY1Byb21pc2VdKSkpID8gJHByb21pc2VkIDogbmV3IFByb3h5KHdyYXBGdW5jKHtcbiAgICAgICAgICAgIFtcIiZkYXRhXCJdOiAkcHJvbWlzZWQ/LnRoZW4/LihjYik/LmNhdGNoPy4oY29uc29sZS5lcnJvcj8uYmluZD8uKGNvbnNvbGUpKSwgXG4gICAgICAgICAgICBbXCImY29kZVwiXTogJHByb21pc2VkPy5bXCImY29kZVwiXSB8fCAkaGFjaz8uW1wiJmNvZGVcIl1cbiAgICAgICAgfSksIHRoaXMpO1xuICAgIH1cblxuICAgIC8vXG4gICAgI3N5bmMoJGhhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2luZGlyZWN0aW9uKCRoYWNrLCAoJCkgPT4gJCwge2luaXRpYXRlOiB0cnVlLCBkaXJlY3RseTogZmFsc2UsIGZvcmNlQXN5bmM6IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgLy9cbiAgICBnZXQoJGhhY2ssIC4uLiRhcmdzKSB7XG4gICAgICAgIGlmICgkYXJnc1swXSA9PSBcIiZpc0NvZGVcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoJGFyZ3NbMF0gPT0gXCImaXNXcmFwXCIpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoW1wiJmRhdGFcIiwgXCImY29kZVwiLCBcIiZidWZmZXJcIl0uaW5kZXhPZigkYXJnc1swXSkgPj0gMCkgcmV0dXJuICgkaGFjaz8uWyRhcmdzWzBdXSA/PyAkaGFjaz8uW1wiJmRhdGFcIl0/LlskYXJnc1swXV0gPz8gKCRoYWNrPy5bXCImZGF0YVwiXT8udGhlbj8uKCgkKT0+eyByZXR1cm4gJFskYXJnc1swXV07IH0pKSk7XG4gICAgICAgIGlmIChbJHN5bWJvbHNbXCImZGF0YVwiXV0uaW5kZXhPZigkYXJnc1swXSkgPj0gMCkgcmV0dXJuIHRoaXMuJGRhdGEoJGhhY2spO1xuXG4gICAgICAgIC8vIGJyb2tlbiBvcCwgZG9lc24ndCBjaGFpbiBzdXBwb3J0Li4uXG4gICAgICAgIGlmIChbXCIqXCIsIFwiJnN5bmNlZFwiXS5pbmRleE9mKCRhcmdzWzBdKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCAkeCA9IHRoaXMuI3N5bmMoJGhhY2spLCAkYiA9ICR4W1wiJmJ1ZmZlclwiXTtcbiAgICAgICAgICAgIHJldHVybiAkYiAmJiAhJGluc3RhbmNlQW55T2YoJGIsIFtQcm9taXNlLCBTeW5jUHJvbWlzZV0pID8gKCR4Py5bJGFyZ3NbMF1dID8/ICR4KSA6ICR4O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKFtcIiZzeW5jXCJdLmluZGV4T2YoJGFyZ3NbMF0pID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0ICR3ID0gdGhpcy4jaW5kaXJlY3Rpb24oJGhhY2ssICgkdykgPT4gJHcsIHt9KTtcbiAgICAgICAgICAgIHJldHVybiAkY29udGV4dGlmeSgkdywgJHc/LltcIiZzeW5jXCJdID8/ICR3Py5bXCJ0aGVuXCJdKSA/PyAoKCQpID0+ICQoJHcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIGlmICgkYXJnc1swXT8uYXQ/LigwKSA9PSBcIiZcIikgcmV0dXJuICRoYWNrPy5bXCImY29kZVwiXT8uWyRhcmdzWzBdXTtcblxuICAgICAgICAvL1xuICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcygkc3ltYm9scykuaW5kZXhPZigkYXJnc1swXSkgPj0gMCkgeyBcbiAgICAgICAgICAgICRhcmdzWzBdID0gJG5hbWVzWyRhcmdzWzBdXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNpbmRpcmVjdGlvbigkaGFjaywgKCR3KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR3Py5bXCImY29kZVwiXT8uWyRhcmdzWzBdXTtcbiAgICAgICAgICAgIH0sIHsgZGlyZWN0bHk6IGZhbHNlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKFtcImJpbmRcIiwgXCJjYWxsXCIsIFwiYXBwbHlcIl0uaW5kZXhPZigkYXJnc1swXSkgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgJHJlZmxlY3QgPSB0aGlzLiRyZWZsZWN0O1xuICAgICAgICAgICAgY29uc3QgJGluZGlyZWN0aW9uID0gdGhpcy4jaW5kaXJlY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0ICRmbiA9ICguLi4kYSkgPT4geyByZXR1cm4gJGluZGlyZWN0aW9uKCRoYWNrLCBhc3luYyAoJG9iaikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgJHJlZmxlY3QuYXBwbHkoJG9iaiwgJGFyZ3NbMV0sIGF3YWl0IFByb21pc2UuYWxsKGF3YWl0ICRhKSkpO1xuICAgICAgICAgICAgfSwgeyBkaXJlY3RseTogZmFsc2UgfSkgfTtcbiAgICAgICAgICAgIHJldHVybiAkZm5bJGFyZ3NbMF1dLmJpbmQoJGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIGlmIChbXCJ0aGVuXCIsIFwiY2F0Y2hcIiwgXCJmaW5hbGx5XCJdLmluZGV4T2YoJGFyZ3NbMF0pID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0ICR3ID0gdGhpcy4jaW5kaXJlY3Rpb24oJGhhY2ssICgkdykgPT4gJHcsIHsgZm9yY2VBc3luYzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiAkY29udGV4dGlmeSgkdywgJHc/LlskYXJnc1swXV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHRoaXMuI2luZGlyZWN0aW9uKCRoYWNrLCBhc3luYyAoJG9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKCEkb2JqKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiAkY29udGV4dGlmeSgkb2JqLCBhd2FpdCB0aGlzLiRyZWZsZWN0LmdldCgkb2JqLCAuLi4oYXdhaXQgUHJvbWlzZS5hbGwoYXdhaXQgJGFyZ3MpKSkpO1xuICAgICAgICB9LCB7IGRpcmVjdGx5OiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICAvL1xuICAgIG93bktleXMoJGhhY2ssIC4uLiRhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNpbmRpcmVjdGlvbigkaGFjaywgYXN5bmMgKCRvYmopID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy4kcmVmbGVjdC5vd25LZXlzKCRvYmosIC4uLihhd2FpdCBQcm9taXNlLmFsbChhd2FpdCAkYXJncykpKSk7XG4gICAgICAgIH0sIHsgZGlyZWN0bHk6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vXG4gICAgaGFzKCRoYWNrLCAuLi4kYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy4jaW5kaXJlY3Rpb24oJGhhY2ssIGFzeW5jICgkb2JqKSA9PiB7XG4gICAgICAgICAgICBpZiAoISRvYmopIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLiRyZWZsZWN0Lmhhcygkb2JqLCAuLi4oYXdhaXQgUHJvbWlzZS5hbGwoYXdhaXQgJGFyZ3MpKSkpO1xuICAgICAgICB9LCB7IGRpcmVjdGx5OiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICAvL1xuICAgIHNldCgkaGFjaywgLi4uJGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2luZGlyZWN0aW9uKCRoYWNrLCBhc3luYyAoJG9iaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLiRyZWZsZWN0LnNldCgkb2JqLCAuLi4oYXdhaXQgUHJvbWlzZS5hbGwoYXdhaXQgJGFyZ3MpKSkpO1xuICAgICAgICB9LCB7IGRpcmVjdGx5OiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICAvLyBjdXJyZW50bHksIGNoYWluaW5nIHdpdGhvdXQgJ2F3YWl0JyBub3QgYXZhaWxhYmxlLi4uXG4gICAgY29uc3RydWN0KCRoYWNrLCAuLi4kYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy4jaW5kaXJlY3Rpb24oJGhhY2ssIGFzeW5jICgkb2JqKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMuJHJlZmxlY3QuY29uc3RydWN0KCRvYmosIC4uLihhd2FpdCBQcm9taXNlLmFsbChhd2FpdCAkYXJncykpKSk7XG4gICAgICAgIH0sIHsgZGlyZWN0bHk6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIGN1cnJlbnRseSwgY2hhaW5pbmcgd2l0aG91dCAnYXdhaXQnIG5vdCBhdmFpbGFibGUuLi5cbiAgICBhcHBseSgkaGFjaywgLi4uJGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2luZGlyZWN0aW9uKCRoYWNrLCBhc3luYyAoJG9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKCEkb2JqKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy4kcmVmbGVjdC5hcHBseSgkb2JqLCAuLi4oYXdhaXQgUHJvbWlzZS5hbGwoYXdhaXQgJGFyZ3MpKSkpO1xuICAgICAgICB9LCB7IGRpcmVjdGx5OiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICAvL1xuICAgIGRlbGV0ZVByb3BlcnR5KCRoYWNrLCAuLi4kYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy4jaW5kaXJlY3Rpb24oJGhhY2ssIGFzeW5jICgkb2JqKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMuJHJlZmxlY3QuZGVsZXRlUHJvcGVydHkoJG9iaiwgLi4uKGF3YWl0IFByb21pc2UuYWxsKGF3YWl0ICRhcmdzKSkpKTtcbiAgICAgICAgfSwgeyBkaXJlY3RseTogZmFsc2UgfSk7XG4gICAgfVxufTtcblxuLy9cbmV4cG9ydCBjbGFzcyBMYXp5UmVmbGVjdGlvbiBleHRlbmRzIEJhc2VSZWZsZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0ID0gKHR5cGVvZiBSZWZsZWN0ICE9IFwidW5kZWZpbmVkXCIgPyBSZWZsZWN0IDogRmFrZVJlZmxlY3QpKSB7XG4gICAgICAgIHN1cGVyKHJlZmxlY3QpO1xuICAgIH1cblxuICAgIC8vXG4gICAgJGRhdGEoJGhhY2spIHtcbiAgICAgICAgY29uc3QgJGdvdCA9ICEkaGFjaz8uW1wiJmluaXRpYXRlZFwiXSA/ICgkaGFja1tcIiZkYXRhXCJdID0gJGhhY2s/LltcIiZkYXRhXCJdKCkpIDogKCRoYWNrPy5bXCImZGF0YVwiXSk7XG4gICAgICAgICRoYWNrW1wiJmluaXRpYXRlZFwiXSA9IHRydWU7XG4gICAgICAgIHJldHVybiAkdW53cmFwKCRnb3QpO1xuICAgIH1cbn07XG5cbi8vXG5leHBvcnQgY29uc3QgJHVud3JhcCA9IChsYXp5KSA9PiB7XG4gICAgaWYgKGxhenk/LltcIiZ0eXBlb2ZcIl0gPT0gXCJsYXp5XCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh3cmFwRnVuYyh7XG4gICAgICAgICAgICBbXCImY29kZVwiXToge1tcIiZ0eXBlb2ZcIl06IFwicHJvbWlzZVwifSxcbiAgICAgICAgICAgIFtcIiZkYXRhXCJdOiBhc3luYyBkb1xuICAgICAgICAgICAgICAgIGxldCAkbHogPSBsYXp5O1xuICAgICAgICAgICAgICAgIHdoaWxlICghISRseiAmJiAkbHo/LltcIiZ0eXBlb2ZcIl0gPT0gXCJsYXp5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJGx6ID0gYXdhaXQgJGx6Py5bJHN5bWJvbHNbXCImZGF0YVwiXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAkbHpcbiAgICAgICAgfSksIG5ldyBQcm9taXNlUmVmbGVjdGlvbigpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxhenk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsWTs7QUFFQTtBQUNBLFNBQVNBLFFBQVEsRUFBRUMsY0FBYztBQUNqQyxTQUFTQyxRQUFR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
